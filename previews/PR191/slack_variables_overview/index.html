<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Slack Variables for Policies · DOLPHYN</title><meta name="title" content="Slack Variables for Policies · DOLPHYN"/><meta property="og:title" content="Slack Variables for Policies · DOLPHYN"/><meta property="twitter:title" content="Slack Variables for Policies · DOLPHYN"/><meta name="description" content="Documentation for DOLPHYN."/><meta property="og:description" content="Documentation for DOLPHYN."/><meta property="twitter:description" content="Documentation for DOLPHYN."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DOLPHYN</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome Page</a></li><li><a class="tocitem" href="../solvers/">Solvers</a></li><li><a class="tocitem" href="../model_introduction/">Model Introduction</a></li><li><span class="tocitem">Model Inputs/Outputs Documentation</span><ul><li><a class="tocitem" href="../global_data_documentation/">General Database Documentation</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">GenX Database Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../data_documentation/">Single-stage Model</a></li><li><a class="tocitem" href="../multi_stage_model_overview/">Multi-stage Model</a></li></ul></li><li><a class="tocitem" href="../hsc_data_documentation/">HSC Database Documentation</a></li></ul></li><li><a class="tocitem" href="../objective_function/">Objective Function</a></li><li><span class="tocitem">GenX</span><ul><li><a class="tocitem" href="../load_inputs/">GenX Inputs Functions</a></li><li><a class="tocitem" href="../write_outputs/">GenX Outputs Functions</a></li><li><a class="tocitem" href="../genx_notation/">GenX Notation</a></li><li><a class="tocitem" href="../power_balance/">Power Balance</a></li><li><input class="collapse-toggle" id="menuitem-6-5" type="checkbox" checked/><label class="tocitem" for="menuitem-6-5"><span class="docs-label">GenX Function Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../core/">Core</a></li><li><input class="collapse-toggle" id="menuitem-6-5-2" type="checkbox"/><label class="tocitem" for="menuitem-6-5-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../flexible_demand/">Flexible Demand</a></li><li><input class="collapse-toggle" id="menuitem-6-5-2-3" type="checkbox"/><label class="tocitem" for="menuitem-6-5-2-3"><span class="docs-label">Hydro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../hydro_res/">Hydro Reservoir</a></li><li><a class="tocitem" href="../hydro_inter_period_linkage/">Long Duration Hydro</a></li></ul></li><li><a class="tocitem" href="../must_run/">Must Run</a></li><li><input class="collapse-toggle" id="menuitem-6-5-2-5" type="checkbox"/><label class="tocitem" for="menuitem-6-5-2-5"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../storage/">Storage</a></li><li><a class="tocitem" href="../investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../storage_all/">Storage All</a></li><li><a class="tocitem" href="../storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../storage_symmetric/">Storage Symmetric</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-5-2-6" type="checkbox"/><label class="tocitem" for="menuitem-6-5-2-6"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../thermal/">Thermal</a></li><li><a class="tocitem" href="../thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../thermal_no_commit/">Thermal No Commit</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-5-3" type="checkbox"/><label class="tocitem" for="menuitem-6-5-3"><span class="docs-label">Multi_stage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../configure_multi_stage_inputs/">Configure multi-stage inputs</a></li><li><a class="tocitem" href="../dual_dynamic_programming/">Model multi stage: Dual Dynamic Programming Algorithm</a></li></ul></li><li><a class="tocitem" href="../policies/">Policies</a></li><li class="is-active"><a class="tocitem" href>Slack Variables for Policies</a><ul class="internal"><li><a class="tocitem" href="#Running-cases-with-slack-variables"><span>Running cases with slack variables</span></a></li><li><a class="tocitem" href="#Slack-Variables-Results-Files"><span>Slack Variables Results Files</span></a></li><li><a class="tocitem" href="#Slack-Variables-Example"><span>Slack Variables Example</span></a></li><li><a class="tocitem" href="#Relevant-Files"><span>Relevant Files</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../solver_configuration/">Solver Configurations</a></li><li><a class="tocitem" href="../load_inputs/">GenX Inputs Functions</a></li><li><a class="tocitem" href="../write_outputs/">GenX Outputs Functions</a></li><li><a class="tocitem" href="../additional_features/">Additional Features</a></li><li><a class="tocitem" href="../additional_third_party_extensions/">Third Party Extensions</a></li></ul></li><li><span class="tocitem">Hydrogen Supply Chain (HSC)</span><ul><li><a class="tocitem" href="../load_h2_inputs/">HSC Inputs Functions</a></li><li><a class="tocitem" href="../write_h2_outputs/">HSC Outputs Functions</a></li><li><a class="tocitem" href="../hsc_notation/">HSC Notation</a></li><li><a class="tocitem" href="../h2_balance/">HSC Supply-Demand Balance</a></li><li><input class="collapse-toggle" id="menuitem-7-5" type="checkbox"/><label class="tocitem" for="menuitem-7-5"><span class="docs-label">HSC Function Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../h2_core/">Hydrogen Core</a></li><li><a class="tocitem" href="../h2_flexible_demand/">Hydrogen Flexible Demand</a></li><li><a class="tocitem" href="../g2p/">Hydrogen to Power</a></li><li><input class="collapse-toggle" id="menuitem-7-5-4" type="checkbox"/><label class="tocitem" for="menuitem-7-5-4"><span class="docs-label">Hydrogen Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../h2_long_duration_storage/">Hydrogen Long Duration Storage</a></li><li><a class="tocitem" href="../h2_storage_all/">Hydrogen Storage ALL</a></li><li><a class="tocitem" href="../h2_storage_investment/">Hydrogen Storage Investment</a></li><li><a class="tocitem" href="../h2_storage/">Hydrogen Storage</a></li></ul></li><li><a class="tocitem" href="../h2_transmission/">Hydrogen Transimission</a></li><li><input class="collapse-toggle" id="menuitem-7-5-6" type="checkbox"/><label class="tocitem" for="menuitem-7-5-6"><span class="docs-label">Hydrogen Truck</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../h2_long_duration_truck/">Hydrogen Long Duration Truck</a></li><li><a class="tocitem" href="../h2_truck_all/">Hydrogen Truck All</a></li><li><a class="tocitem" href="../h2_truck_investment/">Hydrogen Truck Investment</a></li><li><a class="tocitem" href="../h2_truck/">Hydrogen Truck</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-5-7" type="checkbox"/><label class="tocitem" for="menuitem-7-5-7"><span class="docs-label">Hydrogen Production</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../h2_production_all/">Hydrogen Production All</a></li><li><a class="tocitem" href="../h2_production_commit/">Hydrogen Production Commit</a></li><li><a class="tocitem" href="../h2_production_no_commit/">Hydrogen Production No Commit</a></li><li><a class="tocitem" href="../h2_production/">Hydrogen Production</a></li></ul></li></ul></li></ul></li><li><a class="tocitem" href="../additional_tools/">Additional Tools</a></li><li><a class="tocitem" href="../solve_model/">Solving the Model</a></li><li><a class="tocitem" href="../methods/">Methods</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">GenX</a></li><li><a class="is-disabled">GenX Function Reference</a></li><li class="is-active"><a href>Slack Variables for Policies</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Slack Variables for Policies</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/DOLPHYN" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/DOLPHYN/blob/main/docs/src/slack_variables_overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Policy-Slack-Variables"><a class="docs-heading-anchor" href="#Policy-Slack-Variables">Policy Slack Variables</a><a id="Policy-Slack-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Policy-Slack-Variables" title="Permalink"></a></h1><p><em>Added in 0.3.5</em></p><p>Rather than modeling policy requirements as inflexible constraints, it may be advantageous to instead allow these requirements to be violated at some predetermined cost.  This is accomplished via &#39;slack variables,&#39; which can be used by the model to meet a policy constraint if it cannot be met cost-effectively by normal means.  Once the incremental shadow price of meeting a policy constraint rises above a cost threshold set by the user, the model will rely on the slack variable to fill any remaining gap. </p><p>Using slack variables rather than hard constraints may be useful for GenX users who wish to avoid unexpected infeasibilities resulting from policy requirements that cannot be met.  Using slack variables with very high cost thresholds, users can quickly identify specific policy constraints that are effectively infeasible without causing errors. </p><p>Slack variables with lower assigned costs can also be used to model policies with built-in cost thresholds, for example a CO2 Cap with a maximum allowable carbon price of <span>$</span>200/ton.  They can be activated for each individual policy type available in GenX, including: Capacity Reserve Margins, Energy Share Requirements, CO2 Caps, Minimum Capacity Requirements, and Maximum Capacity Requirements. </p><h2 id="Running-cases-with-slack-variables"><a class="docs-heading-anchor" href="#Running-cases-with-slack-variables">Running cases with slack variables</a><a id="Running-cases-with-slack-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Running-cases-with-slack-variables" title="Permalink"></a></h2><p>Slack variables are turned off by default in GenX, but can be automatically activated for each policy type by providing the relevant inputs.  Slack variables will only be activated when the relevant policy type is itself activated in <code>GenX_settings.yml</code>.  For some policy types, slack variables are activated by providing a new input file, while for others they are activated by modifying an existing file.  Instructions for each policy type are listed below:</p><h3 id="Capacity-Reserve-Margin"><a class="docs-heading-anchor" href="#Capacity-Reserve-Margin">Capacity Reserve Margin</a><a id="Capacity-Reserve-Margin-1"></a><a class="docs-heading-anchor-permalink" href="#Capacity-Reserve-Margin" title="Permalink"></a></h3><p>Slack variables for Capacity Reserve Margin constraints are created when GenX detects the presence of the file <code>Capacity_reserve_margin_slack.csv</code> in the Inputs folder.  This file should contain two columns: one titled &#39;CRM<em>Constraint&#39; naming the individual Capacity Reserve Margin constraints in the same order in which they are listed in the first row of `Capacity</em>reserve_margin.csv`, and a second titled &#39;PriceCap&#39; containing the price thresholds for each constraint.  The units for these thresholds are <span>$</span>/MW.</p><h3 id="CO2-Cap"><a class="docs-heading-anchor" href="#CO2-Cap">CO2 Cap</a><a id="CO2-Cap-1"></a><a class="docs-heading-anchor-permalink" href="#CO2-Cap" title="Permalink"></a></h3><p>Slack variables for CO2 Cap constraints are created when GenX detects the presence of the file <code>CO2_cap_slack.csv</code> in the Inputs folder.  This file should contain two columns: one titled &#39;CO2<em>Cap</em>Constraint&#39; naming the individual CO2 Cap constraints in the same order in which they are listed in the first row of <code>CO2_Cap.csv</code>, and a second titled &#39;PriceCap&#39; containing the price thresholds for each constraint.  The units for these thresholds are <span>$</span>/ton.  The CO2 Cap slack variable itself is always in units of tons of CO2, even if the CO2 Cap is a rate-based cap.</p><h3 id="Energy-Share-Requirement"><a class="docs-heading-anchor" href="#Energy-Share-Requirement">Energy Share Requirement</a><a id="Energy-Share-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Energy-Share-Requirement" title="Permalink"></a></h3><p>Slack variables for Energy Share Requirement constraints are created when GenX detects the presence of the file <code>Energy_share_requirement_slack.csv</code> in the Inputs folder.  This file should contain two columns: one titled &#39;ESR<em>Constraint&#39; naming the individual Energy Share Requirement constraints in the same order in which they are listed in the first row of `Energy</em>share_requirement.csv`, and a second titled &#39;PriceCap&#39; containing the price thresholds for each constraint.  The units for these thresholds are <span>$</span>/MWh.</p><h3 id="Minimum-Capacity-Requirement"><a class="docs-heading-anchor" href="#Minimum-Capacity-Requirement">Minimum Capacity Requirement</a><a id="Minimum-Capacity-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Capacity-Requirement" title="Permalink"></a></h3><p>Slack variables for Minimum Capacity Requirement constraints are created when GenX detects the presence of a column titled &#39;PriceCap&#39; in the file <code>Minimum_capacity_requirement.csv</code>.  This column contains the price thresholds for each Minimum Capacity Requirement constraint, in units of <span>$</span>/MW. </p><h3 id="Maximum-Capacity-Requirement"><a class="docs-heading-anchor" href="#Maximum-Capacity-Requirement">Maximum Capacity Requirement</a><a id="Maximum-Capacity-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Capacity-Requirement" title="Permalink"></a></h3><p>Slack variables for Maximum Capacity Requirement constraints are created when GenX detects the presence of a column titled &#39;PriceCap&#39; in the file <code>Maximum_capacity_requirement.csv</code>.  This column contains the price thresholds for each Maximum Capacity Requirement constraint, in units of <span>$</span>/MW. </p><h2 id="Slack-Variables-Results-Files"><a class="docs-heading-anchor" href="#Slack-Variables-Results-Files">Slack Variables Results Files</a><a id="Slack-Variables-Results-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Slack-Variables-Results-Files" title="Permalink"></a></h2><p>By default, a policy type&#39;s result files include the shadow prices for each policy constraint.  When slack variables are activated, outputs also include the final values of the slack variables (i.e. the amount by which the policy constraint was violated), and the total costs associated with those slack variables.  These files are named using the convention <code>X_prices_and_penalties.csv</code>, where <code>X</code> is the name of the relevant policy type.</p><p>GenX will also print the total cost associated with each activated slack variable type in the file <code>costs.csv</code>.</p><h2 id="Slack-Variables-Example"><a class="docs-heading-anchor" href="#Slack-Variables-Example">Slack Variables Example</a><a id="Slack-Variables-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Slack-Variables-Example" title="Permalink"></a></h2><p>The folder <code>Example_Systems/SmallNewEngland/ThreeZones_Slack_Variables_Example</code> contains examples of the input files needed to activate slack variables for each of the policy types in GenX.  Running this example with a given set of policy constraints activated will generate the relevant slack variables and print their outputs.</p><h2 id="Relevant-Files"><a class="docs-heading-anchor" href="#Relevant-Files">Relevant Files</a><a id="Relevant-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Relevant-Files" title="Permalink"></a></h2><h3 id="Capacity-Reserve-Margin-2"><a class="docs-heading-anchor" href="#Capacity-Reserve-Margin-2">Capacity Reserve Margin</a><a class="docs-heading-anchor-permalink" href="#Capacity-Reserve-Margin-2" title="Permalink"></a></h3><h3 id="CO2-Cap-2"><a class="docs-heading-anchor" href="#CO2-Cap-2">CO2 Cap</a><a class="docs-heading-anchor-permalink" href="#CO2-Cap-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DOLPHYN.co2_cap!-Tuple{JuMP.Model, Dict, Dict}" href="#DOLPHYN.co2_cap!-Tuple{JuMP.Model, Dict, Dict}"><code>DOLPHYN.co2_cap!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">co2_cap!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>This policy constraints mimics the CO<span>$_2$</span> emissions cap and permit trading systems, allowing for emissions trading across each zone for which the cap applies. The constraint <span>$p \in \mathcal{P}^{CO_2}$</span> can be flexibly defined for mass-based or rate-based emission limits for one or more model zones, where zones can trade CO<span>$_2$</span> emissions permits and earn revenue based on their CO<span>$_2$</span> allowance. Note that if the model is fully linear (e.g. no unit commitment or linearized unit commitment), the dual variable of the emissions constraints can be interpreted as the marginal CO<span>$_2$</span> price per tonne associated with the emissions target. Alternatively, for integer model formulations, the marginal CO<span>$_2$</span> price can be obtained after solving the model with fixed integer/binary variables.</p><p>The CO<span>$_2$</span> emissions limit can be defined in one of the following ways: a) a mass-based limit defined in terms of annual CO<span>$_2$</span> emissions budget (in million tonnes of CO2), b) a load-side rate-based limit defined in terms of tonnes CO<span>$_2$</span> per MWh of demand and c) a generation-side rate-based limit defined in terms of tonnes CO<span>$_2$</span> per MWh of generation.</p><p><strong>Mass-based emissions constraint</strong></p><p>Mass-based emission limits are implemented in the following expression. For each constraint, <span>$p \in \mathcal{P}^{CO_2}_{mass}$</span>, we define a set of zones <span>$z \in \mathcal{Z}^{CO_2}_{p,mass}$</span> that can trade CO<span>$_2$</span> allowance. Input data for each constraint  <span>$p \in \mathcal{P}^{CO_2}_{mass}$</span> requires the CO<span>$_2$</span> allowance/ budget for each model zone, <span>$\epsilon^{CO_{2}}_{z,p, mass}$</span>, to be provided in terms of million metric tonnes. For every generator <span>$y$</span>, the parameter <span>$\epsilon_{y,z}^{CO_2}$</span> reflects the specific <span>$CO_2$</span> emission intensity in tCO<span>$_2$</span>/MWh associated with its operation.  The resulting constraint is given as:</p><p class="math-container">\[\begin{aligned}
    \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,z,t} \right)
   &amp; \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \epsilon^{CO_{2}}_{z,p, mass} \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{mass}
\end{aligned}\]</p><p>In the above constraint, we include both power discharge and charge term for each resource to account for the potential for CO<span>$_2$</span> emissions (or removal when considering negative emissions technologies) associated with each step. Note that if a limit is applied to each zone separately, then the set <span>$\mathcal{Z}^{CO_2}_{p,mass}$</span> will contain only one zone with no possibility of trading. If a system-wide emission limit constraint is applied, then <span>$\mathcal{Z}^{CO_2}_{p,mass}$</span> will be equivalent to a set of all zones.</p><p><strong>Load-side rate-based emissions constraint</strong></p><p>We modify the right hand side of the above mass-based constraint, <span>$p \in \mathcal{P}^{CO_2}_{load}$</span>, to set emissions target based on a CO<span>$_2$</span> emission rate limit in tCO<span>$_2$</span>/MWh <span>$\times$</span> the total demand served in each zone. In the following constraint, total demand served takes into account non-served energy and storage related losses. Here, <span>$\epsilon_{z,p,load}^{maxCO_2}$</span> denotes the emission limit in terms on tCO<span>$_2$</span>/MWh.</p><p class="math-container">\[\begin{aligned}
    \sum_{z \in \mathcal{Z}^{CO_2}_{p,load}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right)
    \leq &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,load}} \sum_{t \in \mathcal{T}}  \left(\epsilon_{z,p,load}^{CO_2} \times  \omega_{t} \times D_{z,t} \right) \\  + &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,load}} \sum_{y \in \mathcal{O}}  \sum_{t \in \mathcal{T}} \left(\epsilon_{z,p,load}^{CO_2} \times \omega_{t} \times \left(\Pi_{y,t,z} - \Theta_{y,t,z} \right) \right) \\  - &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,load}} \sum_{s \in \mathcal{S} } \sum_{t \in \mathcal{T}}  \left(\epsilon_{z,p,load}^{CO_2} \times \omega_{t} \times \Lambda_{s,z,t}\right) \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{load}
\end{aligned}\]</p><p><strong>Generator-side emissions rate-based constraint</strong></p><p>Similarly, a generation based emission constraint is defined by setting the emission limit based on the total generation times the carbon emission rate limit in tCO<span>$_2$</span>/MWh of the region. The resulting constraint is given as:</p><p class="math-container">\[\begin{aligned}
\sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} &amp; \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right) \\
    \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} &amp; \left(\epsilon_{z,p,gen}^{CO_2} \times  \omega_{t} \times \Theta_{y,t,z} \right)  \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{gen}
\end{aligned}\]</p><p>Note that the generator-side rate-based constraint can be used to represent a fee-rebate (``feebate&#39;&#39;) system: the dirty generators that emit above the bar (<span>$\epsilon_{z,p,gen}^{maxCO_2}$</span>) have to buy emission allowances from the emission regulator in the region <span>$z$</span> where they are located; in the same vein, the clean generators get rebates from the emission regulator at an emission allowance price being the dual variable of the emissions rate constraint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/GenX/blob/23819da459be7e4769ccad6a541124343f510cc7/src/model/policies/co2_cap.jl#L1-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DOLPHYN.write_co2_cap-Tuple{AbstractString, Dict, Dict, JuMP.Model}" href="#DOLPHYN.write_co2_cap-Tuple{AbstractString, Dict, Dict, JuMP.Model}"><code>DOLPHYN.write_co2_cap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">write_co2_cap(path::AbstractString, inputs::Dict, setup::Dict, EP::Model)</code></pre><p>Function for reporting carbon price associated with carbon cap constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/GenX/blob/23819da459be7e4769ccad6a541124343f510cc7/src/write_outputs/co2_cap/write_co2_cap.jl#L1-L6">source</a></section></article><h3 id="Energy-Share-Requirement-2"><a class="docs-heading-anchor" href="#Energy-Share-Requirement-2">Energy Share Requirement</a><a class="docs-heading-anchor-permalink" href="#Energy-Share-Requirement-2" title="Permalink"></a></h3><h3 id="Minimum-Capacity-Requirement-2"><a class="docs-heading-anchor" href="#Minimum-Capacity-Requirement-2">Minimum Capacity Requirement</a><a class="docs-heading-anchor-permalink" href="#Minimum-Capacity-Requirement-2" title="Permalink"></a></h3><h3 id="Maximum-Capacity-Requirement-2"><a class="docs-heading-anchor" href="#Maximum-Capacity-Requirement-2">Maximum Capacity Requirement</a><a class="docs-heading-anchor-permalink" href="#Maximum-Capacity-Requirement-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DOLPHYN.load_maximum_capacity_requirement!-Tuple{AbstractString, Dict, Dict}" href="#DOLPHYN.load_maximum_capacity_requirement!-Tuple{AbstractString, Dict, Dict}"><code>DOLPHYN.load_maximum_capacity_requirement!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_maximum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)</code></pre><p>Read input parameters related to maximum capacity requirement constraints (e.g. technology specific deployment mandates)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/GenX/blob/23819da459be7e4769ccad6a541124343f510cc7/src/load_inputs/load_maximum_capacity_requirement.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DOLPHYN.maximum_capacity_requirement!-Tuple{JuMP.Model, Dict, Dict}" href="#DOLPHYN.maximum_capacity_requirement!-Tuple{JuMP.Model, Dict, Dict}"><code>DOLPHYN.maximum_capacity_requirement!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">maximum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>The maximum capacity requirement constraint allows for modeling maximum deployment of a certain technology or set of eligible technologies across the eligible model zones and can be used to mimic policies supporting specific technology build out (i.e. capacity deployment targets/mandates for storage, offshore wind, solar etc.). The default unit of the constraint is in MW. For each requirement <span>$p \in \mathcal{P}^{MaxCapReq}$</span>, we model the policy with the following constraint.</p><p class="math-container">\[\begin{aligned}
\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z} } \left( \epsilon_{y,z,p}^{MaxCapReq} \times \Delta^{\text{total}}_{y,z} \right) \leq REQ_{p}^{MaxCapReq} \hspace{1 cm}  \forall p \in \mathcal{P}^{MaxCapReq}
\end{aligned}\]</p><p>Note that <span>$\epsilon_{y,z,p}^{MaxCapReq}$</span> is the eligiblity of a generator of technology <span>$y$</span> in zone <span>$z$</span> of requirement <span>$p$</span> and will be equal to <span>$1$</span> for eligible generators and will be zero for ineligible resources. The dual value of each maximum capacity constraint can be interpreted as the required payment (e.g. subsidy) per MW per year required to ensure adequate revenue for the qualifying resources.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/GenX/blob/23819da459be7e4769ccad6a541124343f510cc7/src/model/policies/maximum_capacity_requirement.jl#L1-L10">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../policies/">« Policies</a><a class="docs-footer-nextpage" href="../solver_configuration/">Solver Configurations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Sunday 29 October 2023 21:48">Sunday 29 October 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
